{% extends "base.html" %}
{% import "macros.html" as macros %}
{% block title %}{{ path }}{% endblock %}
{% block content %}
<h1>{% if details.name -%}
    {{ details.name }} <aside>{{ path | safe }}</aside>
{%- else -%}
    {{ path | safe }}
{%- endif %}</h1>

{%- if details.docs -%}
    {{ macros::doc_block(block=details.docs) }}
{%- endif -%}

<table class="summary" cellspacing="0">
    {%- for item in details.items %}
        {% if item.docs -%}
            <tr><td colspan="2">{{ item.docs | md }}</td></tr>
        {%- elif item.define -%}
            <tr><th><a href="{{ details.htmlname | safe }}.html#define/{{item.define.name}}">{{item.define.name}}</a></th><td>{{ item.define.teaser | md(teaser=true) }}</td></tr>
        {%- elif item.type -%}
            <tr><th><a href="{{ item.type.path | safe | substring(start=1) }}.html">{{item.type.path}}</a></th><td>{{ item.type.teaser | md(teaser=true) }}</td></tr>
        {%- endif %}
    {%- endfor -%}
</table>

{%- if details.defines -%}
<h2>Define Details</h2>
{% for name, define in details.defines -%}
    <h3><aside class="declaration">#define </aside><a name="define/{{ name }}">{{ name }}</a>
        {%- if define.has_params %}
            <aside>(
            {%- for param in define.params -%}
                {% if not loop.first %}, {% endif -%}
                {{ param }}
            {%- endfor -%}
            {%- if define.variadic %} ...{% endif -%}
            )</aside>
        {%- endif -%}
    </h3>
    {{ macros::doc_block(block=define.docs) }}
{%- endfor -%}
{%- endif -%}
{% endblock content %}

{% extends "base.html" %}
{% import "macros.html" as macros %}
{% block title %}{{ path }}{% endblock %}
{% block content %}
<h1>{% if details.name -%}
    {{ details.name }} <aside>{{ path | safe | linkify_type }}</aside>
{%- else -%}
    {{ path | safe | linkify_type }}
{%- endif %}</h1>

{%- if details.docs -%}
    {{ macros::doc_block(block=details.docs) }}
{%- endif -%}

{%- if details.vars or details.procs -%}
    <table class="summary" cellspacing="0">
    {%- if details.vars -%}
        <tr><td colspan="2"><h2>Vars</h2></td></tr>
        {%- for name, var in details.vars %}
            <tr><th><a href="{{details.htmlname|safe}}.html#var/{{name}}">{{ name }}</a></th><td>{{ var.docs.teaser | md(teaser=true) }}</td></tr>
        {%- endfor %}
    {%- endif -%}

    {%- if details.procs -%}
        <tr><td colspan="2"><h2>Procs</h2></td></tr>
        {%- for name, proc in details.procs %}
            <tr><th><a href="{{details.htmlname|safe}}.html#proc/{{name}}">{{ name }}</a></th><td>{{ proc.docs.teaser | md(teaser=true) }}</td></tr>
        {%- endfor %}
    {%- endif -%}
    </table>
{%- endif -%}

{% if details.vars %}
    <h2>Var Details</h2>
    {%- for name, var in details.vars -%}
        <h3>
        {%- if var.decl -%}
            <aside class="declaration">{{ var.decl }} </aside>
        {%- endif -%}
        <a name="var/{{ name }}">{{ name }}</a> <aside>&ndash; {{ var.type_path | safe | linkify_type }}</aside></h3>
        {{ macros::doc_block(block=var.docs) }}
    {%- endfor -%}
{% endif %}

{%- if details.procs -%}
    <h2>Proc Details</h2>
    {%- for name, proc in details.procs -%}
        <h3>
            {%- if proc.decl -%}
                <aside class="declaration">{{ proc.decl }} </aside>
            {%- endif -%}
            <a name="proc/{{ name }}">{{ name }}</a><aside>(
            {%- for param in proc.params -%}
                {% if not loop.first %}, {% endif -%}
                {% if param.type_path %}{{ param.type_path | safe | linkify_type }}/{% endif %}{{ param.name }}
            {%- endfor -%}
            )</aside>
        </h3>
        {{ macros::doc_block(block=proc.docs) }}
    {%- endfor -%}
{%- endif -%}
{% endblock content %}

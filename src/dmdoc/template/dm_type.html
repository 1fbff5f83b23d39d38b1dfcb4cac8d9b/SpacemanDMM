{% extends "base.html" %}
{% import "macros.html" as macros %}
{% block title %}{{ path }}{% endblock %}
{% block content %}
<h1>{{ path | safe | linkify_type }}</h1>

{%- if details.docs -%}
    {{ macros::doc_block(block=details.docs) }}
{%- endif -%}

{%- if details.vars -%}
    <h2>Vars</h2>
    <table class="summary">
    {%- for name, var in details.vars %}
        <tr><th><a href="{{details.filename|safe}}.html#var/{{name}}">{{ name }}</a></th><td>{{ var.docs.teaser | md(teaser=true) }}</td></tr>
    {%- endfor %}
    </table>
{%- endif -%}

{%- if details.procs -%}
    <h2>Procs</h2>
    <table class="summary">
    {%- for name, proc in details.procs %}
        <tr><th><a href="{{details.filename|safe}}.html#proc/{{name}}">{{ name }}</a></th><td>{{ proc.docs.teaser | md(teaser=true) }}</td></tr>
    {%- endfor %}
    </table>
{%- endif -%}

{% if details.vars %}
    <h2>Var Details</h2>
    {%- for name, var in details.vars -%}
        <h3><a name="var/{{ name }}">{{ name }}</a> <aside>&ndash; {{ var.type_path | safe | linkify_type }}</aside></h3>
        {{ macros::doc_block(block=var.docs) }}
    {%- endfor -%}
{% endif %}

{%- if details.procs -%}
    <h2>Proc Details</h2>
    {%- for name, proc in details.procs -%}
        <h3><a name="proc/{{ name }}">{{ name }}</a> <aside>({%- for param in proc.params -%}
            {% if not loop.first %}, {% endif -%}
            {% if param.type_path %}{{ param.type_path | safe | linkify_type }}/{% endif %}{{ param.name }}
        {%- endfor -%})</aside></h3>
        {{ macros::doc_block(block=proc.docs) }}
    {%- endfor -%}
{%- endif -%}
{% endblock content %}
